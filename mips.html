<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style type="text/css">
        div.addInst{
            border-radius: 10px;
            box-shadow: 5px 5px 10px gray;
            background-color: lightblue;
            width: 100%;
            height: fit-content;
            margin-top: 20px;
            padding: 20px;
        }
        div.tp1{
            display: grid;
            grid-template-columns: 20% auto;
        }
        div.registers{
            background-color: blue;
            width: 100%;
            height: fit-content;
            padding: 10px;
            display: grid;
            grid-template-columns: 12% 38% 12% 38%;
            font-size: 15px;
            font-weight: bold;
            color: aliceblue;
            font-family: cursive;
            align-items: center;
            text-align: center;
            border-radius: 10px;
            box-shadow: 5px 5px 10px gray;
            z-index: 2;
        }
        input.regInp{
            font-size: 10px;
            align-items: center;
            padding: 5px;
            border-radius: 10px;
            padding-left: 10px;
            border-width: 0px;
            background-color: white;
            font-weight: bold;
            margin-top: 20px;
            /* margin-top: -10px; */
        }
        p.reg{
            font-size: 10px;
            align-items: center;
            margin-top: 30px;
        }
        p.data{
            text-orientation: upright;
            writing-mode: vertical-lr;
            position: absolute;
            border-radius: 5px;
            border-width: 2px;
            border-style: solid;
            border-color: blue;
            /* padding: 1px; */
            /* box-shadow: 2px 2px 3px gray; */
            background-color: white;
            font-size: 10px;
            font-family: cursive;
            font-weight: bolder;
        }
        p.dataH{
            position: absolute;
            border-radius: 5px;
            border-width: 2px;
            border-style: solid;
            border-color: blue;
            padding: 1px;
            /* box-shadow: 2px 2px 3px gray; */
            background-color: white;
            font-size: 10px;
            font-family: cursive;
            font-weight: bolder;
        }
        button.next{
            border-radius: 10px;
            font-family: cursive;
            font-weight: bold;
            background-color: green;
            border-width: 0px;
            color: white;
            padding: 5px 20px 5px;
            position: fixed;
            left: 92%;
            top: 10px;
            transition: all 1s;
        }
        button.next:hover{
            background-color: rgb(97, 255, 163);
            color: green;
        }
        button.clear{
            border-radius: 10px;
            font-family: cursive;
            font-weight: bold;
            background-color: red;
            border-width: 0px;
            color: white;
            padding: 5px 20px 5px;
            position: fixed;
            left: 85%;
            top: 10px;
            transition: all 1s;
        }
        button.clear:hover{
            background-color: rgb(255, 172, 172);
            color: brown;
        }
        thead{
            background-color: rgb(1, 1, 75);
            color: white;
            font-family: cursive;
            font-weight: 400;
        }
        th{
            padding-left: 20px;
            padding-right: 20px;
        }
        td{
            background-color: lightblue;
            color: rgb(0, 0, 112);
            font-family: 'Courier New', Courier, monospace;
            padding-left: 20px;
            padding-right: 20px;
            width: fit-content;
            font-weight: bold;
        }
        td.styl1{
            background-color: white;
            color: rgb(0, 0, 112);
            font-family: 'Courier New', Courier, monospace;
            padding-left: 20px;
            padding-right: 20px;
            width: fit-content;
            font-weight: bold;
            border-color: black;
            border-width: 2px;
            border-style: solid;
        }
        button.delete{
            color: blue;
            font-family: cursive;
            background-color: white;
            border-width: 0px;
            font-weight: bold;
            cursor: pointer;
        }
    </style>
</head>
<body >
    <div>
        <div class="tp1">
            <div class="registers" id="regDiv" title="Registers">
                <p class="reg">R0</p>
                <input type="number" class="regInp" id="R0" value="0"/>
                <p class="reg">R1</p>
                <input type="number" class="regInp" id="R1" value="0"/>
                <p class="reg">R2</p>
                <input type="number" class="regInp" id="R2" value="0"/>
                <p class="reg">R3</p>
                <input type="number" class="regInp" id="R3" value="0"/>
                <p class="reg">R4</p>
                <input type="number" class="regInp" id="R4" value="0"/>
                <p class="reg">R5</p>
                <input type="number" class="regInp" id="R5" value="0"/>
                <p class="reg">R6</p>
                <input type="number" class="regInp" id="R6" value="0"/>
                <p class="reg">R7</p>
                <input type="number" class="regInp" id="R7" value="0"/>
                <p class="reg">R8</p>
                <input type="number" class="regInp" id="R8" value="0"/>
                <p class="reg">R9</p>
                <input type="number" class="regInp" id="R9" value="0"/>
                <p class="reg">R10</p>
                <input type="number" class="regInp" id="R10" value="0"/>
                <p class="reg">R11</p>
                <input type="number" class="regInp" id="R11" value="0"/>
                <p class="reg">R12</p>
                <input type="number" class="regInp" id="R12" value="0"/>
                <p class="reg">R13</p>
                <input type="number" class="regInp" id="R13" value="0"/>
                <p class="reg">R14</p>
                <input type="number" class="regInp" id="R14" value="0"/>
                <p class="reg">R15</p>
                <input type="number" class="regInp" id="R15" value="0"/>
                <p class="reg">R16</p>
                <input type="number" class="regInp" id="R16" value="0"/>
                <p class="reg">R17</p>
                <input type="number" class="regInp" id="R17" value="0"/>
                <p class="reg">R18</p>
                <input type="number" class="regInp" id="R18" value="0"/>
                <p class="reg">R19</p>
                <input type="number" class="regInp" id="R19" value="0"/>
                <p class="reg">R20</p>
                <input type="number" class="regInp" id="R20" value="0"/>
                <p class="reg">R21</p>
                <input type="number" class="regInp" id="R21" value="0"/>
                <p class="reg">R22</p>
                <input type="number" class="regInp" id="R22" value="0"/>
                <p class="reg">R23</p>
                <input type="number" class="regInp" id="R23" value="0"/>
                <p class="reg">R24</p>
                <input type="number" class="regInp" id="R24" value="0"/>
                <p class="reg">R25</p>
                <input type="number" class="regInp" id="R25" value="0"/>
                <p class="reg">R26</p>
                <input type="number" class="regInp" id="R26" value="0"/>
                <p class="reg">R27</p>
                <input type="number" class="regInp" id="R27" value="0"/>
                <p class="reg">R28</p>
                <input type="number" class="regInp" id="R28" value="0"/>
                <p class="reg">R29</p>
                <input type="number" class="regInp" id="R29" value="0"/>
                <p class="reg">R30</p>
                <input type="number" class="regInp" id="R30" value="0"/>
                <p class="reg">R31</p>
                <input type="number" class="regInp" id="R31" value="0"/>
            </div>
            <img src="MIPS.png" height="auto" width="100%" style="display: inline; padding-left: 30px;"/>
            <p class="data" id="S1bPC" style="margin-left: 22.7%; margin-top: 30%;">00000000</p>
            <p class="data" id="S1aPC" style="margin-left: 29.7%; margin-top: 30%;">00000000</p>
            <p class="data" id="S1aIM" style="margin-left: 38.5%; margin-top: 39%;">00000000</p>
            <p class="data" id="S1aP4" style="margin-left: 39.5%; margin-top: 18%;">00000000</p>
            <p class="data" id="S2bSE" style="margin-left: 46.5%; margin-top: 43.5%; font-size: 8px;">0000</p>
            <p class="data" id="S2aSE" style="margin-left: 54.15%; margin-top: 41%;">00000000</p>
            <p class="dataH" id="S2R1" style="margin-left: 46.15%; margin-top: 24%;">00</p>
            <p class="dataH" id="S2R2" style="margin-left: 46.15%; margin-top: 28%;">00</p>
            <p class="dataH" id="S2Rd" style="margin-left: 46.6%; margin-top: 31.5%;">00</p>
            <p class="data" id="S2Data1" style="margin-left: 54.15%; margin-top: 22%; font-size: 8px;">00000000</p>
            <p class="data" id="S2Data2" style="margin-left: 54.15%; margin-top: 29%; font-size: 8px;">00000000</p>
            <p class="data" id="S3SE" style="margin-left: 59.8%; margin-top: 42%;font-size: 8px;">00000000</p>
            <p class="data" id="S3Data1" style="margin-left: 62%; margin-top: 22%; font-size: 8px;">00000000</p>
            <p class="dataH" id="S3MUX" style="margin-left: 65.5%; margin-top: 37.5%; font-size: 8px;">00000000</p>
            <p class="data" id="S3Data2" style="margin-left: 59.8%; margin-top: 34%; font-size: 8px;">00000000</p>
            <p class="data" id="S3ALU" style="margin-left: 72.5%; margin-top: 30%; font-size: 8px;">00000000</p>
            <p class="data" id="S4ALU" style="margin-left: 77.5%; margin-top: 32%; font-size: 8px;">00000000</p>
            <p class="dataH" id="S4WData" style="margin-left: 77.5%; margin-top: 42.5%; font-size: 8px;">00000000</p>
            <p class="data" id="S4RData" style="margin-left: 86.5%; margin-top: 30%; font-size: 8px;">00000000</p>
            <p class="data" id="S4MUX" style="margin-left: 90.8%; margin-top: 33%; font-size: 8px;">00000000</p>
            <p class="data" id="S5WB" style="margin-left: 95.5%; margin-top: 33%; font-size: 8px;">00000000</p>
            <p class="dataH" id="clock" style="margin-left: 60%; margin-top: 3%; font-size: 8px;
                                                font-size: 20px; padding: 0px 20px;">Clock: 0</p>
            
            <table style="position: absolute; padding-left: 30%; padding-top: 57%;">
                <thead>
                    <th>Stage 1</th>
                    <th>Stage 2</th>
                    <th>Stage 3</th>
                    <th>Stage 4</th>
                    <th>Stage 5</th>
                </thead>
                <tbody>
                    <tr>
                        <td id="stage1">NOP</td>
                        <td id="stage2">NOP</td>
                        <td id="stage3">NOP</td>
                        <td id="stage4">NOP</td>
                        <td id="stage5">NOP</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="addInst" style="display: grid; grid-template-columns: 50% 50%;">
            <div>
                <h1 style="font-family: cursive; font-size: 20px;">Add Instructions</h1>
                <p style="color: blue; font-family: cursive; display: inline;">Instruction</p>
                <select id="inst" style="border-radius: 5px; border-width: 0px;
                                        background-color: blue; color: white;
                                        font-family: cursive;">
                    <option value="1">ADD</option>
                    <option value="2">SUB</option>
                    <option value="3">MUL</option>
                    <option value="4">DIV</option>
                    <option value="5">AND</option>
                    <option value="6">OR</option>
                    <option value="7">XOR</option>
                    <!-- <option value="8">ADDI</option>
                    <option value="9">SUBI</option>
                    <option value="10">MULI</option> -->
                </select>
                <p style="color: blue; font-family: cursive; display: inline;">Rd</p>
                <select id="rd" style="border-radius: 5px; border-width: 0px;
                                        background-color: blue; color: white;
                                        font-family: cursive;">
                    <option value="1">R1</option>
                    <option value="2">R2</option>
                    <option value="3">R3</option>
                    <option value="4">R4</option>
                    <option value="5">R5</option>
                    <option value="6">R6</option>
                    <option value="7">R7</option>
                    <option value="8">R8</option>
                    <option value="9">R9</option>
                    <option value="10">R10</option>
                    <option value="11">R11</option>
                    <option value="12">R12</option>
                    <option value="13">R13</option>
                    <option value="14">R14</option>
                    <option value="15">R15</option>
                    <option value="16">R16</option>
                    <option value="17">R17</option>
                    <option value="18">R18</option>
                    <option value="19">R19</option>
                    <option value="20">R20</option>
                    <option value="21">R21</option>
                    <option value="22">R22</option>
                    <option value="23">R23</option>
                    <option value="24">R24</option>
                    <option value="25">R25</option>
                    <option value="26">R26</option>
                    <option value="27">R27</option>
                    <option value="28">R28</option>
                    <option value="29">R29</option>
                    <option value="30">R30</option>
                    <option value="31">R31</option>
                </select>
                <p style="color: blue; font-family: cursive; display: inline;">Rs</p>
                <select id="rs" style="border-radius: 5px; border-width: 0px;
                                        background-color: blue; color: white;
                                        font-family: cursive;">
                    <option value="1">R1</option>
                    <option value="2">R2</option>
                    <option value="3">R3</option>
                    <option value="4">R4</option>
                    <option value="5">R5</option>
                    <option value="6">R6</option>
                    <option value="7">R7</option>
                    <option value="8">R8</option>
                    <option value="9">R9</option>
                    <option value="10">R10</option>
                    <option value="11">R11</option>
                    <option value="12">R12</option>
                    <option value="13">R13</option>
                    <option value="14">R14</option>
                    <option value="15">R15</option>
                    <option value="16">R16</option>
                    <option value="17">R17</option>
                    <option value="18">R18</option>
                    <option value="19">R19</option>
                    <option value="20">R20</option>
                    <option value="21">R21</option>
                    <option value="22">R22</option>
                    <option value="23">R23</option>
                    <option value="24">R24</option>
                    <option value="25">R25</option>
                    <option value="26">R26</option>
                    <option value="27">R27</option>
                    <option value="28">R28</option>
                    <option value="29">R29</option>
                    <option value="30">R30</option>
                    <option value="31">R31</option>
                </select>
                <p style="color: blue; font-family: cursive; display: inline;">Rt</p>
                <select id="rt" style="border-radius: 5px; border-width: 0px;
                                        background-color: blue; color: white;
                                        font-family: cursive;">
                    <option value="1">R1</option>
                    <option value="2">R2</option>
                    <option value="3">R3</option>
                    <option value="4">R4</option>
                    <option value="5">R5</option>
                    <option value="6">R6</option>
                    <option value="7">R7</option>
                    <option value="8">R8</option>
                    <option value="9">R9</option>
                    <option value="10">R10</option>
                    <option value="11">R11</option>
                    <option value="12">R12</option>
                    <option value="13">R13</option>
                    <option value="14">R14</option>
                    <option value="15">R15</option>
                    <option value="16">R16</option>
                    <option value="17">R17</option>
                    <option value="18">R18</option>
                    <option value="19">R19</option>
                    <option value="20">R20</option>
                    <option value="21">R21</option>
                    <option value="22">R22</option>
                    <option value="23">R23</option>
                    <option value="24">R24</option>
                    <option value="25">R25</option>
                    <option value="26">R26</option>
                    <option value="27">R27</option>
                    <option value="28">R28</option>
                    <option value="29">R29</option>
                    <option value="30">R30</option>
                    <option value="31">R31</option>
                </select>
                <button style="border-width: 0px; background-color: green;
                            color: white; font-family: cursive;
                            padding: 3px 10px 3px 10px;
                            margin-left: 10px;
                                border-radius: 5px;" onclick="addInst()">Add Instruction</button>
                <button style="border-width: 0px; background-color: red;
                            color: white; font-family: cursive;
                            padding: 3px 10px 3px 10px;
                                border-radius: 5px;" onclick="clearAll()">Clear All</button>
                                <br><br>
                <button style="border-width: 0px; background-color: blue;
                            color: white; font-family: cursive;
                            padding: 3px 10px 3px 10px;
                                border-radius: 5px;" onclick="addNOP()">Add NOP</button>
            </div>
            <div style="min-height: 30px; 
                        margin-right: 50px;">
                    <table>
                        <thead>
                            <th>Instruction</th>
                            <th>Edit</th>
                        </thead>
                        <tbody id="instCont">
                            
                        </tbody>
                    </table>  
            </div>
        </div>
    </div>

    <button id="next" class="next" onclick="next()">Next</button>
    <button id="clear" class="clear" onclick="reset()">Clear</button>
    <script>

        var S1bPC = document.getElementById('S1bPC');
        var S1aPC = document.getElementById('S1aPC');
        var S1aIM = document.getElementById('S1aIM');
        var S1aP4 = document.getElementById('S1aP4');
        var S2bSE = document.getElementById('S2bSE');
        var S2aSE = document.getElementById('S2aSE');
        var S2R1 = document.getElementById('S2R1');
        var S2R2 = document.getElementById('S2R2');
        var S2Rd = document.getElementById('S2Rd');
        var S2Data1 = document.getElementById('S2Data1');
        var S2Data2 = document.getElementById('S2Data2');
        var S3Data1 = document.getElementById('S3Data1');
        var S3Data2 = document.getElementById('S3Data2');
        var S3MUX = document.getElementById('S3MUX');
        var S3ALU = document.getElementById('S3ALU');
        var S3SE = document.getElementById('S3SE');
        var S4ALU = document.getElementById('S4ALU');
        var S4MUX = document.getElementById('S4MUX');
        var S4RData = document.getElementById('S4RData');
        var S4WData = document.getElementById('S4WData');
        var S5WB = document.getElementById('S5WB');

        var funcCodes = [0, 32, 34, 24, 26, 36, 37, 38];

        function decToHex(number, digits){
            if(number < 0){
                return (number>>>0).toString(16);
            }
            var res = number.toString(16);
            var pad = digits - res.length;

            while(pad > 0){
                res = '0' + res;
                pad--;
            }

            return res;
        }

        class Instruction{
            constructor(rd, rs, rt, inst, opcode){
                this.rd = rd;
                this.rs = rs;
                this.rt = rt;
                this.inst = inst;
                this.result = 0;
                this.opcode = opcode;
                this.data1 = 0;
                this.data2 = 0;
            }

            IF(){
                S1bPC.innerText = decToHex(PC+4, 8);
                S1aPC.innerText = decToHex(PC, 8);
                S1aP4.innerText = decToHex(PC+4, 8);
                PC = PC + 4;
                switch(this.opcode){
                    case 0:
                        S1aIM.innerText = decToHex(0,8);
                        break;
                    case 1:
                    case 2:
                    case 3:
                    case 4:
                    case 5:
                    case 6:
                    case 7:
                        var i = funcCodes[this.opcode]+
                                (this.rd<<11)+
                                (this.rt<<16)+
                                (this.rs<<21);
                        S1aIM.innerText = decToHex(i, 8);
                        break;
                }
                document.getElementById('stage1').innerText = this.inst;
            }

            ID(){
                S2R1.innerText = decToHex(this.rs, 2);
                S2R2.innerText = decToHex(this.rt, 2);
                this.data1 = parseInt(document.getElementById('R'+this.rs).value);
                this.data2 = parseInt(document.getElementById('R'+this.rt).value);
                S2Data1.innerText = decToHex(this.data1, 8);
                S2Data2.innerText = decToHex(this.data2, 8);
                S2bSE.innerText = decToHex(funcCodes[this.opcode]+(this.rd<<11),4);
                S2aSE.innerText = decToHex(funcCodes[this.opcode]+(this.rd<<11),8);
                document.getElementById('stage2').innerText = this.inst;
            }

            EXE(){
                S3Data1.innerText = decToHex(this.data1,8);
                S3Data2.innerText = decToHex(this.data2,8);
                S3SE.innerText = decToHex(funcCodes[this.opcode]+(this.rd<<11),8);
                S3MUX.innerText = S3Data2.innerText;

                switch(this.opcode){
                    case 0:
                        S3ALU.innerText = decToHex(0,8);
                        break;
                    case 1:
                        this.result = this.data1+this.data2;
                        S3ALU.innerText = decToHex(this.result,8);
                        break;
                    case 2:
                        this.result = this.data1-this.data2;
                        S3ALU.innerText = decToHex(this.result,8);
                        break;
                    case 3:
                        this.result = this.data1*this.data2;
                        S3ALU.innerText = decToHex(this.result,8);
                        break;
                    case 4:
                        this.result = this.data1/this.data2;
                        S3ALU.innerText = decToHex(this.result,8);
                        break;
                    case 5:
                        this.result = this.data1 & this.data2;
                        S3ALU.innerText = decToHex(this.result,8);
                        break;
                    case 6:
                        this.result = this.data1 | this.data2;
                        S3ALU.innerText = decToHex(this.result,8);
                        break;
                    case 7:
                        this.result = this.data1 ^ this.data2;
                        S3ALU.innerText = decToHex(this.result,8);
                        break;
                }
                document.getElementById('stage3').innerText = this.inst;
            }

            MEM(){
                S4ALU.innerText = decToHex(this.result, 8);
                S4WData.innerText = decToHex(this.data2, 8);
                S4RData.innerText = decToHex(0, 8);
                S4MUX.innerText = S4ALU.innerText;
                document.getElementById('stage4').innerText = this.inst;
            }

            WB(){
                S5WB.innerText = decToHex(this.result, 8);
                S2Rd.innerText = decToHex(this.rd, 2);
                document.getElementById('R'+this.rd).value = this.result;
                document.getElementById('stage5').innerText = this.inst;
            }
        }

        var instArray = ["NOP","ADD", "SUB","MUL","DIV", "AND", "OR", "XOR"];
        var reg = new Array(32);
        var PC = 0;
        var IM = new Array();
        var clock = 0;
        
        function next(){
            var i = PC/4;
            if(i >= IM.length){
                alert("All Instruction Executed");
                return;
            }
            IM[i].IF();
            if(i-1 >= 0){
                IM[i-1].ID();
            }
            if(i-2 >= 0){
                IM[i-2].EXE();
            }
            if(i-3 >= 0){
                IM[i-3].MEM();
            }
            if(i-4 >= 0){
                IM[i-4].WB();
            }
            clock++;
            document.getElementById('clock').innerText = 'Clock: '+clock;
        }

        function reset(){
            clock = 0;
            PC = 0;
            document.getElementById('clock').innerText = 'Clock: '+clock;
            document.getElementById('stage1').innerText = "NOP";
            document.getElementById('stage2').innerText = "NOP";
            document.getElementById('stage3').innerText = "NOP";
            document.getElementById('stage4').innerText = "NOP";
            document.getElementById('stage5').innerText = "NOP";

            S1aIM.innerText = decToHex(0,8);
            S1aP4.innerText = decToHex(0,8);
            S1aPC.innerText = decToHex(0,8);
            S1bPC.innerText = decToHex(0,8);
            S2Data1.innerText = decToHex(0,8);
            S2Data2.innerText = decToHex(0,8);
            S2R1.innerText = decToHex(0,2);
            S2R2.innerText = decToHex(0,2);
            S2Rd.innerText = decToHex(0,2);
            S2aSE.innerText = decToHex(0,8);
            S2bSE.innerText = decToHex(0,4);
            S3ALU.innerText = decToHex(0,8);
            S3Data1.innerText = decToHex(0,8);
            S3Data2.innerText = decToHex(0,8);
            S3MUX.innerText = decToHex(0,8);
            S3SE.innerText = decToHex(0,8);
            S4ALU.innerText = decToHex(0,8);
            S4MUX.innerText = decToHex(0,8);
            S4RData.innerText = decToHex(0,8);
            S4WData.innerText = decToHex(0,8);
            S5WB.innerText = decToHex(0,8);
        }

        function clearAll(){
            document.getElementById('instCont').innerHTML = '';
            IM.splice(0, IM.length);
            console.log(IM);
        }

        function addInst(){
            var tr = document.createElement('tr');
            var td1 = document.createElement('td');
            var td2 = document.createElement('td');
            td1.className = 'styl1';
            td2.className = 'styl1';
            var button = document.createElement('button');
            button.className = 'delete';
            td1.innerText = instArray[document.getElementById('inst').value]
                            +' R'+document.getElementById('rd').value
                            +' R'+document.getElementById('rs').value
                            +' R'+document.getElementById('rt').value;
            var instr = new Instruction(document.getElementById('rd').value,
                                        document.getElementById('rs').value,
                                        document.getElementById('rt').value, 
                            instArray[document.getElementById('inst').value]
                            +' R'+document.getElementById('rd').value
                            +' R'+document.getElementById('rs').value
                            +' R'+document.getElementById('rt').value,
                            parseInt(document.getElementById('inst').value));
            IM.push(instr);
            button.innerText = 'Delete';
            button.onclick = function(){
                tr.remove();
                IM.splice(IM.indexOf(instr), 1);
                console.log(IM);
            }
            td2.appendChild(button);
            tr.appendChild(td1);
            tr.appendChild(td2);
            document.getElementById('instCont').appendChild(tr);

            console.log(IM);
        }

        function addNOP(){
            var tr = document.createElement('tr');
            var td1 = document.createElement('td');
            var td2 = document.createElement('td');
            td1.className = 'styl1';
            td2.className = 'styl1';
            var button = document.createElement('button');
            button.className = 'delete';
            td1.innerText = 'NOP';
            button.innerText = 'Delete';
            var instr = new Instruction(0,0,0,"NOP",0);
            IM.push(instr);
            button.onclick = function(){
                tr.remove();
                IM.splice(IM.indexOf(instr), 1);
                console.log(IM);
            }
            td2.appendChild(button);
            tr.appendChild(td1);
            tr.appendChild(td2);
            document.getElementById('instCont').appendChild(tr);
            console.log(IM);
        }
    </script>
</body>
</html>